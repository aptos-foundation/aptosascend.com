---
import type { ItemLink } from "datocms-structured-text-utils";
import { readFragment, type FragmentOf } from "~/lib/datocms/graphql";
import type { TransformedMeta } from "datocms-structured-text-generic-html-renderer";
import { PageInlineFragment } from "./fragments";
import { Link } from "~/components/Link";

interface Props {
  node: ItemLink;
  record: FragmentOf<typeof PageInlineFragment>;
  attrs: TransformedMeta;
}

const { record, attrs } = Astro.props;
const pageInline = readFragment(PageInlineFragment, record);
---

<Link {...attrs} title={pageInline.title}><slot /></Link>
