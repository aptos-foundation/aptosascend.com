---
import type { ItemLink } from "datocms-structured-text-utils";
import { readFragment, type FragmentOf } from "~/lib/datocms/graphql";
import type { TransformedMeta } from "datocms-structured-text-generic-html-renderer";
import { BlogPostLinkFragment } from "./fragments";
import { Link } from "~/components/Link";

interface Props {
  node: ItemLink;
  record: FragmentOf<typeof BlogPostLinkFragment>;
  attrs: TransformedMeta;
}

const { record, attrs } = Astro.props;
const blogPostLink = readFragment(BlogPostLinkFragment, record);
---

<Link {...attrs} title={blogPostLink.title}><slot /></Link>
