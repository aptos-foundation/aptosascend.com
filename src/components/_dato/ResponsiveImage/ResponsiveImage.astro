---
import { type FragmentOf, readFragment } from "~/lib/datocms/graphql";
import type { ComponentProps } from "astro/types";
import { Image } from "@datocms/astro";
import { ResponsiveImageFragment } from "./fragments";

interface Props extends Omit<ComponentProps<typeof Image>, "data"> {
  data: FragmentOf<typeof ResponsiveImageFragment>;
}

const { data, ...rest } = Astro.props;
const responsiveImage = readFragment(ResponsiveImageFragment, data);
---

<Image {...rest} data={responsiveImage} />
